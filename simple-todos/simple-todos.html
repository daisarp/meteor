<!-- simple-todos.html -->
<head>
  <title>Todo List</title>
</head>

<body>
  <div class="container">
    <header>
      <h1>{{currentUser.username}}的任务列表</h1>
      {{> loginButtons}}

      <!-- add the checkbox to <body> right below the h1 -->
      <label class="all-tasks">
        <input type="radio" data-filter="all" name="task-status" value="all" checked="checked" />
        所有
      </label>

      <label class="completed-tasks">
        <input type="radio" data-filter="completed" name="task-status" />
        已完成
      </label>

      <label class="uncompleted-tasks">
        <input type="radio" data-filter="uncompleted" name="task-status" />
        未完成
      </label>

      {{#if currentUser}}
        <form class="new-task" id="Add">
          <input type="text" name="text" placeholder="Type to add new tasks" />
        </form>
      {{/if}}
    </header>

    <ul data-id="{{_id}}">
      {{#each names}}
        {{> fullname}}
      {{/each}}
    </ul>

    <ul data-id="{{id}}">
      {{#each tasks}}
        {{> task}}
      {{/each}}
    </ul>

  </div>
</body>

<!-- replace the existing task template with this code -->
<template name="task">
  <li class="{{#if checked}}checked{{/if}}">
    <button class="delete">&times;</button>

    <input type="checkbox" checked="{{checked}}" class="toggle-checked" />

    <span class="text"><strong>{{username}}</strong> - {{text}}</span>
  </li>
</template>

<template name="fullname">
  <li>全名：{{firstname}} {{lastname}}</li>
</template>